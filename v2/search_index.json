{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["2011","@leizm/web","api","async","connect","express","function","koa","node.j","node.js，有些地方的代码写的比较啰嗦","quickweb。在不断造轮子的过程中，我基本上实现过一个","typescript","web","不支持","中间件","为了兼容老版本的","为什么编写此框架","从","作为一个基础","兼容众多的","出来呢？","包含","原生支持","和","基于流水线式的中间件机制","尽量少的模块依赖","已经经过千锤百炼，为什么还要再写一个","年接触","开发所必须的基础模块","开始接触","所以，基于以上考虑，我决定按照自己的想法，从头实现一个”完美“的框架：","接口设计","更规范的","框架入门","框架并非易事。如今两个主流的框架","框架的所有基本部件，也深知要实现一个功能完善的","框架的洋葱模型给理解代码和调试带来不必要的复杂性","框架，依赖模块过多","框架，比如最早的","框架，除了中间件机制之外，还应该包含静态文件服务、bodi","没有原生支持","由于历史原因，koa","的中间件格式过于”灵活“，不适合使用","等基础模块","编写的项目","至今已有七个年头，期间也写过好几个","解析、session"],"first-step.html":["\b函数可以写成","#","(ctx:","/）。","3000","=","=>","@leizm/web","@leizm/web@2.x","app","app.listen({","app.use(\"/\",","app.use(path,","applic","async","cd","const","ctx","ctx.response.html(\"it","ctx.response.html(str)","function","handler","handler)","html","http://127.0.0.1:3000/","init","mkdir","new","node","node.j","npm","package.json","path","path（比如：\"/hello\")，handl","port","port:","require(\"@leizm/web\");","s","src","src/app.j","study_web","study_web：","touch","v8.9","web","web.application()","web.application();","web.context)","works!","works!\");","{","{}","})","});","中的","依赖","创建一个","创建入口程序文件","创建项目目录","初始化","初始化项目","参数是不可省略的（即使注册的路径是","如果是的话，说明它已经正常工作了。接下来我们详细看看每一行代码的含义：","安装","实例，这样我们就可以在此实例上引入各种中间件，监听端口等","或更高版本。","接着在浏览器打开","文件，输入以下代码：","方式。","是中间件的处理函数，其格式为","然后编辑","然后运行以下命令启动服务器：","编写第一个程序","表示引入一个中间件，注册的路径是","表示监听指定的端口","表示输出一段","运行环境","需要注意到是，app.use(path,","首先让我们创建一个新项目来编写第一个程序，比如","，看看页面上是不是这样的文字："]},"length":2},"tokenStore":{"root":{"2":{"0":{"1":{"1":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}},"docs":{}},"docs":{}},"docs":{}},"3":{"0":{"0":{"0":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}},"docs":{}},"docs":{}},"docs":{}},"docs":{},"@":{"docs":{},"l":{"docs":{},"e":{"docs":{},"i":{"docs":{},"z":{"docs":{},"m":{"docs":{},"/":{"docs":{},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"./":{"ref":"./","tf":5.028169014084507},"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"@":{"2":{"docs":{},".":{"docs":{},"x":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}},"docs":{}}}}}}}}}}}},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}},"p":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},".":{"docs":{},"l":{"docs":{},"i":{"docs":{},"s":{"docs":{},"t":{"docs":{},"e":{"docs":{},"n":{"docs":{},"(":{"docs":{},"{":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}}}}}}},"u":{"docs":{},"s":{"docs":{},"e":{"docs":{},"(":{"docs":{},"\"":{"docs":{},"/":{"docs":{},"\"":{"docs":{},",":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}},"p":{"docs":{},"a":{"docs":{},"t":{"docs":{},"h":{"docs":{},",":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}},"l":{"docs":{},"i":{"docs":{},"c":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"s":{"docs":{},"y":{"docs":{},"n":{"docs":{},"c":{"docs":{"./":{"ref":"./","tf":0.028169014084507043},"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"n":{"docs":{},"e":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}},"s":{"docs":{},"t":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}}},"d":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}},"t":{"docs":{},"x":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},".":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"p":{"docs":{},"o":{"docs":{},"n":{"docs":{},"s":{"docs":{},"e":{"docs":{},".":{"docs":{},"h":{"docs":{},"t":{"docs":{},"m":{"docs":{},"l":{"docs":{},"(":{"docs":{},"\"":{"docs":{},"i":{"docs":{},"t":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},")":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}},"e":{"docs":{},"x":{"docs":{},"p":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"s":{"docs":{"./":{"ref":"./","tf":0.08450704225352113}}}}}}}}},"f":{"docs":{},"u":{"docs":{},"n":{"docs":{},"c":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{"./":{"ref":"./","tf":0.028169014084507043},"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}}}}}}},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{"./":{"ref":"./","tf":0.056338028169014086}}}}},"n":{"docs":{},"o":{"docs":{},"d":{"docs":{},"e":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},".":{"docs":{},"j":{"docs":{"./":{"ref":"./","tf":0.028169014084507043},"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"s":{"docs":{},"，":{"docs":{},"有":{"docs":{},"些":{"docs":{},"地":{"docs":{},"方":{"docs":{},"的":{"docs":{},"代":{"docs":{},"码":{"docs":{},"写":{"docs":{},"的":{"docs":{},"比":{"docs":{},"较":{"docs":{},"啰":{"docs":{},"嗦":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}},"e":{"docs":{},"w":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}},"p":{"docs":{},"m":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}},"q":{"docs":{},"u":{"docs":{},"i":{"docs":{},"c":{"docs":{},"k":{"docs":{},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{},"。":{"docs":{},"在":{"docs":{},"不":{"docs":{},"断":{"docs":{},"造":{"docs":{},"轮":{"docs":{},"子":{"docs":{},"的":{"docs":{},"过":{"docs":{},"程":{"docs":{},"中":{"docs":{},"，":{"docs":{},"我":{"docs":{},"基":{"docs":{},"本":{"docs":{},"上":{"docs":{},"实":{"docs":{},"现":{"docs":{},"过":{"docs":{},"一":{"docs":{},"个":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"t":{"docs":{},"y":{"docs":{},"p":{"docs":{},"e":{"docs":{},"s":{"docs":{},"c":{"docs":{},"r":{"docs":{},"i":{"docs":{},"p":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":0.04225352112676056}}}}}}}}}}},"o":{"docs":{},"u":{"docs":{},"c":{"docs":{},"h":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"./":{"ref":"./","tf":0.08450704225352113},"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},".":{"docs":{},"a":{"docs":{},"p":{"docs":{},"p":{"docs":{},"l":{"docs":{},"i":{"docs":{},"c":{"docs":{},"a":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},"(":{"docs":{},")":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},";":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"c":{"docs":{},"o":{"docs":{},"n":{"docs":{},"t":{"docs":{},"e":{"docs":{},"x":{"docs":{},"t":{"docs":{},")":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{},"s":{"docs":{},"!":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"\"":{"docs":{},")":{"docs":{},";":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}},"不":{"docs":{},"支":{"docs":{},"持":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}},"的":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"为":{"docs":{},"了":{"docs":{},"兼":{"docs":{},"容":{"docs":{},"老":{"docs":{},"版":{"docs":{},"本":{"docs":{},"的":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}},"什":{"docs":{},"么":{"docs":{},"编":{"docs":{},"写":{"docs":{},"此":{"docs":{},"框":{"docs":{},"架":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}},"从":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}},"作":{"docs":{},"为":{"docs":{},"一":{"docs":{},"个":{"docs":{},"基":{"docs":{},"础":{"docs":{"./":{"ref":"./","tf":0.028169014084507043}}}}}}}},"兼":{"docs":{},"容":{"docs":{},"众":{"docs":{},"多":{"docs":{},"的":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}},"出":{"docs":{},"来":{"docs":{},"呢":{"docs":{},"？":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}},"包":{"docs":{},"含":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}},"原":{"docs":{},"生":{"docs":{},"支":{"docs":{},"持":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}},"和":{"docs":{"./":{"ref":"./","tf":0.07042253521126761}}},"基":{"docs":{},"于":{"docs":{},"流":{"docs":{},"水":{"docs":{},"线":{"docs":{},"式":{"docs":{},"的":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"机":{"docs":{},"制":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}},"尽":{"docs":{},"量":{"docs":{},"少":{"docs":{},"的":{"docs":{},"模":{"docs":{},"块":{"docs":{},"依":{"docs":{},"赖":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}},"已":{"docs":{},"经":{"docs":{},"经":{"docs":{},"过":{"docs":{},"千":{"docs":{},"锤":{"docs":{},"百":{"docs":{},"炼":{"docs":{},"，":{"docs":{},"为":{"docs":{},"什":{"docs":{},"么":{"docs":{},"还":{"docs":{},"要":{"docs":{},"再":{"docs":{},"写":{"docs":{},"一":{"docs":{},"个":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}},"年":{"docs":{},"接":{"docs":{},"触":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}},"开":{"docs":{},"发":{"docs":{},"所":{"docs":{},"必":{"docs":{},"须":{"docs":{},"的":{"docs":{},"基":{"docs":{},"础":{"docs":{},"模":{"docs":{},"块":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}},"始":{"docs":{},"接":{"docs":{},"触":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}},"所":{"docs":{},"以":{"docs":{},"，":{"docs":{},"基":{"docs":{},"于":{"docs":{},"以":{"docs":{},"上":{"docs":{},"考":{"docs":{},"虑":{"docs":{},"，":{"docs":{},"我":{"docs":{},"决":{"docs":{},"定":{"docs":{},"按":{"docs":{},"照":{"docs":{},"自":{"docs":{},"己":{"docs":{},"的":{"docs":{},"想":{"docs":{},"法":{"docs":{},"，":{"docs":{},"从":{"docs":{},"头":{"docs":{},"实":{"docs":{},"现":{"docs":{},"一":{"docs":{},"个":{"docs":{},"”":{"docs":{},"完":{"docs":{},"美":{"docs":{},"“":{"docs":{},"的":{"docs":{},"框":{"docs":{},"架":{"docs":{},"：":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"接":{"docs":{},"口":{"docs":{},"设":{"docs":{},"计":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}},"着":{"docs":{},"在":{"docs":{},"浏":{"docs":{},"览":{"docs":{},"器":{"docs":{},"打":{"docs":{},"开":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}},"更":{"docs":{},"规":{"docs":{},"范":{"docs":{},"的":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}},"框":{"docs":{},"架":{"docs":{},"入":{"docs":{},"门":{"docs":{"./":{"ref":"./","tf":5.014084507042254}}}},"并":{"docs":{},"非":{"docs":{},"易":{"docs":{},"事":{"docs":{},"。":{"docs":{},"如":{"docs":{},"今":{"docs":{},"两":{"docs":{},"个":{"docs":{},"主":{"docs":{},"流":{"docs":{},"的":{"docs":{},"框":{"docs":{},"架":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}},"的":{"docs":{},"所":{"docs":{},"有":{"docs":{},"基":{"docs":{},"本":{"docs":{},"部":{"docs":{},"件":{"docs":{},"，":{"docs":{},"也":{"docs":{},"深":{"docs":{},"知":{"docs":{},"要":{"docs":{},"实":{"docs":{},"现":{"docs":{},"一":{"docs":{},"个":{"docs":{},"功":{"docs":{},"能":{"docs":{},"完":{"docs":{},"善":{"docs":{},"的":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}},"洋":{"docs":{},"葱":{"docs":{},"模":{"docs":{},"型":{"docs":{},"给":{"docs":{},"理":{"docs":{},"解":{"docs":{},"代":{"docs":{},"码":{"docs":{},"和":{"docs":{},"调":{"docs":{},"试":{"docs":{},"带":{"docs":{},"来":{"docs":{},"不":{"docs":{},"必":{"docs":{},"要":{"docs":{},"的":{"docs":{},"复":{"docs":{},"杂":{"docs":{},"性":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}}}},"，":{"docs":{},"依":{"docs":{},"赖":{"docs":{},"模":{"docs":{},"块":{"docs":{},"过":{"docs":{},"多":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}},"比":{"docs":{},"如":{"docs":{},"最":{"docs":{},"早":{"docs":{},"的":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}},"除":{"docs":{},"了":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"机":{"docs":{},"制":{"docs":{},"之":{"docs":{},"外":{"docs":{},"，":{"docs":{},"还":{"docs":{},"应":{"docs":{},"该":{"docs":{},"包":{"docs":{},"含":{"docs":{},"静":{"docs":{},"态":{"docs":{},"文":{"docs":{},"件":{"docs":{},"服":{"docs":{},"务":{"docs":{},"、":{"docs":{},"b":{"docs":{},"o":{"docs":{},"d":{"docs":{},"i":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"没":{"docs":{},"有":{"docs":{},"原":{"docs":{},"生":{"docs":{},"支":{"docs":{},"持":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}},"由":{"docs":{},"于":{"docs":{},"历":{"docs":{},"史":{"docs":{},"原":{"docs":{},"因":{"docs":{},"，":{"docs":{},"k":{"docs":{},"o":{"docs":{},"a":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}},"的":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"格":{"docs":{},"式":{"docs":{},"过":{"docs":{},"于":{"docs":{},"”":{"docs":{},"灵":{"docs":{},"活":{"docs":{},"“":{"docs":{},"，":{"docs":{},"不":{"docs":{},"适":{"docs":{},"合":{"docs":{},"使":{"docs":{},"用":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}}},"等":{"docs":{},"基":{"docs":{},"础":{"docs":{},"模":{"docs":{},"块":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}},"编":{"docs":{},"写":{"docs":{},"的":{"docs":{},"项":{"docs":{},"目":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}},"第":{"docs":{},"一":{"docs":{},"个":{"docs":{},"程":{"docs":{},"序":{"docs":{"first-step.html":{"ref":"first-step.html","tf":10.010526315789473}}}}}}}}},"至":{"docs":{},"今":{"docs":{},"已":{"docs":{},"有":{"docs":{},"七":{"docs":{},"个":{"docs":{},"年":{"docs":{},"头":{"docs":{},"，":{"docs":{},"期":{"docs":{},"间":{"docs":{},"也":{"docs":{},"写":{"docs":{},"过":{"docs":{},"好":{"docs":{},"几":{"docs":{},"个":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}}}}}}}}},"解":{"docs":{},"析":{"docs":{},"、":{"docs":{},"s":{"docs":{},"e":{"docs":{},"s":{"docs":{},"s":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{"./":{"ref":"./","tf":0.014084507042253521}}}}}}}}}}}},"\b":{"docs":{},"函":{"docs":{},"数":{"docs":{},"可":{"docs":{},"以":{"docs":{},"写":{"docs":{},"成":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}},"#":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.042105263157894736}}},"(":{"docs":{},"c":{"docs":{},"t":{"docs":{},"x":{"docs":{},":":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"/":{"docs":{},"）":{"docs":{},"。":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}},"=":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}},">":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"r":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},")":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}}}}}},"t":{"docs":{},"m":{"docs":{},"l":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"t":{"docs":{},"p":{"docs":{},":":{"docs":{},"/":{"docs":{},"/":{"1":{"2":{"7":{"docs":{},".":{"0":{"docs":{},".":{"0":{"docs":{},".":{"1":{"docs":{},":":{"3":{"0":{"0":{"0":{"docs":{},"/":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"docs":{}},"docs":{}},"docs":{}},"docs":{}}},"docs":{}}},"docs":{}}},"docs":{}}},"docs":{}},"docs":{}},"docs":{}}}}}}}},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}},"m":{"docs":{},"k":{"docs":{},"d":{"docs":{},"i":{"docs":{},"r":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}}}},"p":{"docs":{},"a":{"docs":{},"c":{"docs":{},"k":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},".":{"docs":{},"j":{"docs":{},"s":{"docs":{},"o":{"docs":{},"n":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}},"t":{"docs":{},"h":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"（":{"docs":{},"比":{"docs":{},"如":{"docs":{},"：":{"docs":{},"\"":{"docs":{},"/":{"docs":{},"h":{"docs":{},"e":{"docs":{},"l":{"docs":{},"l":{"docs":{},"o":{"docs":{},"\"":{"docs":{},")":{"docs":{},"，":{"docs":{},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}},"o":{"docs":{},"r":{"docs":{},"t":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},":":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"r":{"docs":{},"e":{"docs":{},"q":{"docs":{},"u":{"docs":{},"i":{"docs":{},"r":{"docs":{},"e":{"docs":{},"(":{"docs":{},"\"":{"docs":{},"@":{"docs":{},"l":{"docs":{},"e":{"docs":{},"i":{"docs":{},"z":{"docs":{},"m":{"docs":{},"/":{"docs":{},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{},"\"":{"docs":{},")":{"docs":{},";":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}},"s":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"r":{"docs":{},"c":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"/":{"docs":{},"a":{"docs":{},"p":{"docs":{},"p":{"docs":{},".":{"docs":{},"j":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.031578947368421054}}}}}}}}}},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"y":{"docs":{},"_":{"docs":{},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}},"：":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}},"v":{"8":{"docs":{},".":{"9":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}},"docs":{}}},"docs":{}},"{":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"}":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"}":{"docs":{},")":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},";":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.021052631578947368}}}}},"依":{"docs":{},"赖":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"创":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"入":{"docs":{},"口":{"docs":{},"程":{"docs":{},"序":{"docs":{},"文":{"docs":{},"件":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}},"项":{"docs":{},"目":{"docs":{},"目":{"docs":{},"录":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}},"初":{"docs":{},"始":{"docs":{},"化":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}},"项":{"docs":{},"目":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}},"参":{"docs":{},"数":{"docs":{},"是":{"docs":{},"不":{"docs":{},"可":{"docs":{},"省":{"docs":{},"略":{"docs":{},"的":{"docs":{},"（":{"docs":{},"即":{"docs":{},"使":{"docs":{},"注":{"docs":{},"册":{"docs":{},"的":{"docs":{},"路":{"docs":{},"径":{"docs":{},"是":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}},"如":{"docs":{},"果":{"docs":{},"是":{"docs":{},"的":{"docs":{},"话":{"docs":{},"，":{"docs":{},"说":{"docs":{},"明":{"docs":{},"它":{"docs":{},"已":{"docs":{},"经":{"docs":{},"正":{"docs":{},"常":{"docs":{},"工":{"docs":{},"作":{"docs":{},"了":{"docs":{},"。":{"docs":{},"接":{"docs":{},"下":{"docs":{},"来":{"docs":{},"我":{"docs":{},"们":{"docs":{},"详":{"docs":{},"细":{"docs":{},"看":{"docs":{},"看":{"docs":{},"每":{"docs":{},"一":{"docs":{},"行":{"docs":{},"代":{"docs":{},"码":{"docs":{},"的":{"docs":{},"含":{"docs":{},"义":{"docs":{},"：":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"安":{"docs":{},"装":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"实":{"docs":{},"例":{"docs":{},"，":{"docs":{},"这":{"docs":{},"样":{"docs":{},"我":{"docs":{},"们":{"docs":{},"就":{"docs":{},"可":{"docs":{},"以":{"docs":{},"在":{"docs":{},"此":{"docs":{},"实":{"docs":{},"例":{"docs":{},"上":{"docs":{},"引":{"docs":{},"入":{"docs":{},"各":{"docs":{},"种":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"，":{"docs":{},"监":{"docs":{},"听":{"docs":{},"端":{"docs":{},"口":{"docs":{},"等":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"或":{"docs":{},"更":{"docs":{},"高":{"docs":{},"版":{"docs":{},"本":{"docs":{},"。":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}},"文":{"docs":{},"件":{"docs":{},"，":{"docs":{},"输":{"docs":{},"入":{"docs":{},"以":{"docs":{},"下":{"docs":{},"代":{"docs":{},"码":{"docs":{},"：":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}},"方":{"docs":{},"式":{"docs":{},"。":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}},"是":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"的":{"docs":{},"处":{"docs":{},"理":{"docs":{},"函":{"docs":{},"数":{"docs":{},"，":{"docs":{},"其":{"docs":{},"格":{"docs":{},"式":{"docs":{},"为":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"然":{"docs":{},"后":{"docs":{},"编":{"docs":{},"辑":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}},"运":{"docs":{},"行":{"docs":{},"以":{"docs":{},"下":{"docs":{},"命":{"docs":{},"令":{"docs":{},"启":{"docs":{},"动":{"docs":{},"服":{"docs":{},"务":{"docs":{},"器":{"docs":{},"：":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"表":{"docs":{},"示":{"docs":{},"引":{"docs":{},"入":{"docs":{},"一":{"docs":{},"个":{"docs":{},"中":{"docs":{},"间":{"docs":{},"件":{"docs":{},"，":{"docs":{},"注":{"docs":{},"册":{"docs":{},"的":{"docs":{},"路":{"docs":{},"径":{"docs":{},"是":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"监":{"docs":{},"听":{"docs":{},"指":{"docs":{},"定":{"docs":{},"的":{"docs":{},"端":{"docs":{},"口":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}},"输":{"docs":{},"出":{"docs":{},"一":{"docs":{},"段":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}},"运":{"docs":{},"行":{"docs":{},"环":{"docs":{},"境":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}},"需":{"docs":{},"要":{"docs":{},"注":{"docs":{},"意":{"docs":{},"到":{"docs":{},"是":{"docs":{},"，":{"docs":{},"a":{"docs":{},"p":{"docs":{},"p":{"docs":{},".":{"docs":{},"u":{"docs":{},"s":{"docs":{},"e":{"docs":{},"(":{"docs":{},"p":{"docs":{},"a":{"docs":{},"t":{"docs":{},"h":{"docs":{},",":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}},"首":{"docs":{},"先":{"docs":{},"让":{"docs":{},"我":{"docs":{},"们":{"docs":{},"创":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{},"新":{"docs":{},"项":{"docs":{},"目":{"docs":{},"来":{"docs":{},"编":{"docs":{},"写":{"docs":{},"第":{"docs":{},"一":{"docs":{},"个":{"docs":{},"程":{"docs":{},"序":{"docs":{},"，":{"docs":{},"比":{"docs":{},"如":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}},"，":{"docs":{},"看":{"docs":{},"看":{"docs":{},"页":{"docs":{},"面":{"docs":{},"上":{"docs":{},"是":{"docs":{},"不":{"docs":{},"是":{"docs":{},"这":{"docs":{},"样":{"docs":{},"的":{"docs":{},"文":{"docs":{},"字":{"docs":{},"：":{"docs":{"first-step.html":{"ref":"first-step.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}},"length":127},"corpusTokens":["\b函数可以写成","#","(ctx:","/）。","2011","3000","=","=>","@leizm/web","@leizm/web@2.x","api","app","app.listen({","app.use(\"/\",","app.use(path,","applic","async","cd","connect","const","ctx","ctx.response.html(\"it","ctx.response.html(str)","express","function","handler","handler)","html","http://127.0.0.1:3000/","init","koa","mkdir","new","node","node.j","node.js，有些地方的代码写的比较啰嗦","npm","package.json","path","path（比如：\"/hello\")，handl","port","port:","quickweb。在不断造轮子的过程中，我基本上实现过一个","require(\"@leizm/web\");","s","src","src/app.j","study_web","study_web：","touch","typescript","v8.9","web","web.application()","web.application();","web.context)","works!","works!\");","{","{}","})","});","不支持","中的","中间件","为了兼容老版本的","为什么编写此框架","从","作为一个基础","依赖","兼容众多的","出来呢？","创建一个","创建入口程序文件","创建项目目录","初始化","初始化项目","包含","原生支持","参数是不可省略的（即使注册的路径是","和","基于流水线式的中间件机制","如果是的话，说明它已经正常工作了。接下来我们详细看看每一行代码的含义：","安装","实例，这样我们就可以在此实例上引入各种中间件，监听端口等","尽量少的模块依赖","已经经过千锤百炼，为什么还要再写一个","年接触","开发所必须的基础模块","开始接触","或更高版本。","所以，基于以上考虑，我决定按照自己的想法，从头实现一个”完美“的框架：","接口设计","接着在浏览器打开","文件，输入以下代码：","方式。","是中间件的处理函数，其格式为","更规范的","框架入门","框架并非易事。如今两个主流的框架","框架的所有基本部件，也深知要实现一个功能完善的","框架的洋葱模型给理解代码和调试带来不必要的复杂性","框架，依赖模块过多","框架，比如最早的","框架，除了中间件机制之外，还应该包含静态文件服务、bodi","没有原生支持","然后编辑","然后运行以下命令启动服务器：","由于历史原因，koa","的中间件格式过于”灵活“，不适合使用","等基础模块","编写的项目","编写第一个程序","至今已有七个年头，期间也写过好几个","表示引入一个中间件，注册的路径是","表示监听指定的端口","表示输出一段","解析、session","运行环境","需要注意到是，app.use(path,","首先让我们创建一个新项目来编写第一个程序，比如","，看看页面上是不是这样的文字："],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"@leizm/web 框架入门","keywords":"","body":"@leizm/web 框架入门\n为什么编写此框架\n从 2011 年接触 Node.js 开始接触 Node.js 至今已有七个年头，期间也写过好几个 Web 框架，比如最早的 QuickWeb。在不断造轮子的过程中，我基本上实现过一个 Web 框架的所有基本部件，也深知要实现一个功能完善的 Web 框架并非易事。如今两个主流的框架 Express 和 Koa 已经经过千锤百炼，为什么还要再写一个 @leizm/web 出来呢？\n\nKoa 框架的洋葱模型给理解代码和调试带来不必要的复杂性\nExpress 的中间件格式过于”灵活“，不适合使用 TypeScript 编写的项目\nExpress 不支持 async function\nKoa 和 Express 没有原生支持 TypeScript\nKoa 和 Express 作为一个基础 Web 框架，依赖模块过多\n由于历史原因，Koa 和 Express 为了兼容老版本的 Node.js，有些地方的代码写的比较啰嗦\n作为一个基础 Web 框架，除了中间件机制之外，还应该包含静态文件服务、Body 解析、Session 等基础模块\n\n所以，基于以上考虑，我决定按照自己的想法，从头实现一个”完美“的框架：\n\n原生支持 TypeScript 和 async function\n更规范的 API 接口设计\n基于流水线式的中间件机制\n尽量少的模块依赖\n包含 Web 开发所必须的基础模块\n兼容众多的 connect 中间件\n\n"},"first-step.html":{"url":"first-step.html","title":"编写第一个程序","keywords":"","body":"编写第一个程序\n运行环境\nNode.js v8.9 或更高版本。\n初始化项目\n首先让我们创建一个新项目来编写第一个程序，比如 study_web：\n# 创建项目目录\nmkdir study_web\ncd study_web\n\n# 初始化 package.json\nnpm init\n\n# 安装 @leizm/web 依赖\nnpm i @leizm/web@2.x -S\n\n# 创建入口程序文件\nmkdir src\ntouch src/app.js\n\n然后编辑 src/app.js 文件，输入以下代码：\nconst web = require(\"@leizm/web\");\n\nconst app = new web.Application();\n\napp.use(\"/\", ctx => {\n  ctx.response.html(\"It works!\");\n});\n\napp.listen({ port: 3000 });\n\n然后运行以下命令启动服务器：\nnode src/app.js\n\n接着在浏览器打开 http://127.0.0.1:3000/ ，看看页面上是不是这样的文字：\n\nIt works!\n\n\n如果是的话，说明它已经正常工作了。接下来我们详细看看每一行代码的含义：\n\nnew web.Application() 创建一个 Application 实例，这样我们就可以在此实例上引入各种中间件，监听端口等\napp.use(path, handler) 表示引入一个中间件，注册的路径是 path（比如：\"/hello\")，handler 是中间件的处理函数，其格式为 function (ctx: web.Context) {}\nctx.response.html(str) 表示输出一段 HTML\napp.listen({ port }) 表示监听指定的端口\n\n需要注意到是，app.use(path, handler) 中的 path 参数是不可省略的（即使注册的路径是 /）。 handler \b函数可以写成 async function 方式。\n"}}}